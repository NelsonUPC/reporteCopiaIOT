## Capítulo III: Requirements Specification

### 3.1. To-Be Scenario Mapping

**Segmento Conductores**

El "To-Be Scenario Mapping" para **Conductores** muestra los resultados esperados para los conductores urbanos frecuentes que necesitan tener rapido acceso a estacionamientos

<p align="center"><em>Escenario ideal para conductores que buscan estacionar y pagar sin complicaciones.</em></p>


![To Be Scenario Conductores](assets/chapter-3/To-Be%20Scenario%20Mapping%20Conductor.png)

**Segmento Dueños de Playas de Estacionamiento**

El "To-Be Scenario Mapping" para **Dueños de Playas de Estacionamiento** muestra los resultados esperados para la gestion de estacionamientos brinadas por **ParkeoYa**.

<p align="center"><em>Escenario ideal para Dueños de playas de estacionamiento.</em></p>

![To Be Scenario Dueños de Playas de Estacionamiento](assets/chapter-3/To-Be%20Scenario%20Mapping%20Dueño%20de%20Playa%20de%20Estacionamiento.png)

### EPICS

| **Epic ID** | **Título** | **Descripción** |
|-------------|------------|-----------------|
| **EP01** | Presencia Digital y Adquisición | Establecer una presencia digital sólida que comunique la propuesta de valor de IoT y sensores inteligentes, atrayendo tanto a conductores urbanos como a propietarios de estacionamientos. |
| **EP02** | Onboarding y Autenticación Segura | Implementar un sistema de autenticación robusto que diferencie tipos de usuarios y proteja la información sensible de pagos y reservas. |
| **EP03** | Gestión de Perfiles Segmentados | Permitir que conductores y propietarios gestionen sus perfiles con información relevante y personalizada para cada segmento. |
| **EP04** | Gestión Inteligente de Espacios con IoT | Habilitar la configuración, monitoreo y optimización de espacios mediante sensores IoT en tiempo real, mostrando disponibilidad actualizada a los conductores. |
| **EP05** | Sistema de Reservas en Tiempo Real | Desarrollar un sistema de reservas que reduzca el tiempo de búsqueda de estacionamiento y garantice disponibilidad confiable mediante tecnología en tiempo real. |
| **EP06** | Monetización | Implementar un modelo de negocio basado en comisiones que genere valor tanto para la plataforma como para los propietarios. |
| **EP07** | Sistema de Reputación y Feedback | Crear un sistema de calificaciones y comentarios que fomente confianza y mejore la calidad del servicio en el marketplace de estacionamientos. |
| **EP08** | Notificaciones Inteligentes | Desarrollar un sistema de notificaciones móviles que mantenga informados a los usuarios sobre disponibilidad, reservas y eventos relevantes. |
| **EP09** | Infraestructura IoT y Edge Computing | Gestionar y monitorear la infraestructura IoT distribuida en estacionamientos para garantizar precisión, confiabilidad y escalabilidad. |
| **EP10** | Procesamiento de Pagos Digitales | Facilitar transacciones seguras y automatizadas que reduzcan la fricción en el proceso de pago. |
| **EP11** | API y Escalabilidad | Diseñar una arquitectura API-first que permita escalabilidad nacional e integración con servicios de terceros. |
| **EP12** | Dispositivos IoT Embebidos | Asegurar que los dispositivos IoT operen de forma autónoma y confiable en cada espacio de estacionamiento. |
| **EP13** | Comunicación IoT en Tiempo Real | Garantizar la comunicación bidireccional entre dispositivos, edge servers y backend para mantener la información siempre actualizada. |
| **EP14** | Analytics y Business Intelligence | Proporcionar insights valiosos a los propietarios sobre ocupación, ingresos y patrones de uso mediante dashboards y reportes inteligentes. |
| **EP15** | Sostenibilidad y Movilidad Urbana | Medir y comunicar el impacto de la solución en la reducción de congestión vehicular y emisiones de CO₂ en la ciudad. |


### 3.2. User Stories

| **Epic / Story ID** | **Título** | **Descripción** | **Criterios de Aceptación** | **Relacionado con (Epic ID)** |
|---------------------|------------|-----------------|----------------------------|-------------------------------|
| **US01** | Landing page con propuesta de valor clara | **Como** visitante interesado en soluciones de estacionamiento **quiero** ver una landing page que explique claramente cómo ParkeoYa usa IoT para resolver la pérdida de tiempo buscando estacionamiento **para** decidir si la solución me conviene | **Escenario 01**: Dado que accedo a la landing page de ParkeoYa, cuando navego por las secciones principales, entonces veo información clara sobre cómo los sensores IoT detectan espacios libres y permiten reservar con anticipación.<br>**Escenario 02**: Dado que soy propietario de estacionamiento, cuando reviso testimonios en la landing, entonces puedo leer casos específicos de propietarios que aumentaron ocupación 20% en 3 meses. | **EP01** |
| **US02** | Solicitud de demo para propietarios | **Como** propietario de estacionamiento interesado **quiero** solicitar una demostración personalizada de cómo funcionan los sensores y el panel de gestión **para** evaluar la inversión antes de implementar la solución | **Escenario 01**: Dado que completo el formulario de solicitud de demo, cuando proporciono detalles de mi estacionamiento (número de espacios, ubicación), entonces recibo confirmación inmediata y cronograma de implementación.<br>**Escenario 02**: Dado que solicité demo, cuando un representante me contacta en 24 horas, entonces me presenta ROI estimado basado en mis datos específicos y casos similares. | **EP01** |
| **US03** | Registro diferenciado de usuarios | **Como** usuario nuevo **quiero** registrarme seleccionando claramente si soy conductor que busca estacionar o propietario que ofrece espacios **para** acceder a la aplicación correcta según mi necesidad | **Escenario 01**: Dado que selecciono "Soy conductor", cuando completo registro con mis datos personales, entonces accedo a la app móvil con mapa de estacionamientos cerca de mi ubicación.<br>**Escenario 02**: Dado que selecciono "Soy propietario", cuando proporciono RUC y datos del estacionamiento, entonces accedo al panel web de gestión después de verificación en 48 horas. | **EP02** |
| **US04** | Verificación de identidad para propietarios | **Como** propietario registrándome **quiero** un proceso de verificación que valide mi identidad comercial **para** generar confianza en los conductores que usarán mi estacionamiento | **Escenario 01**: Dado que subo documentos de RUC y licencia de funcionamiento, cuando el sistema valida mi información, entonces mi perfil se marca como "Verificado" en máximo 48 horas.<br>**Escenario 02**: Dado que mi verificación está completa, cuando los conductores ven mi estacionamiento, entonces aparece badge de "Propietario Verificado" que genera mayor confianza. | **EP02** |
| **US05** | Perfil de conductor con historial de uso | **Como** conductor frecuente **quiero** tener un perfil que guarde mis ubicaciones favoritas y patrones de uso **para** recibir sugerencias personalizadas que me ahorren tiempo | **Escenario 01**: Dado que he usado la app 5 veces, cuando accedo a mi perfil, entonces veo estadísticas de tiempo promedio ahorrado vs búsqueda manual y mis ubicaciones más frecuentes.<br>**Escenario 02**: Dado que tengo historial de reservas, cuando busco estacionamiento, entonces la app prioriza estacionamientos en zonas donde suelo ir y con precios similares a mi rango habitual. | **EP03** |
| **US06** | Dashboard consolidado para propietarios múltiples | **Como** propietario con varios estacionamientos **quiero** ver todos mis espacios en un dashboard único **para** comparar rendimiento y tomar decisiones de optimización sin navegar entre múltiples pantallas | **Escenario 01**: Dado que tengo 3 estacionamientos registrados, cuando accedo a mi dashboard principal, entonces veo ocupación actual, ingresos del día y comparativa de rendimiento de cada ubicación.<br>**Escenario 02**: Dado que uno de mis estacionamientos tiene baja ocupación, cuando reviso las métricas, entonces recibo sugerencias automáticas de ajuste de precios basadas en datos de competencia cercana. | **EP03** |
| **US07** | Configuración de sensores por espacio | **Como** propietario **quiero** vincular cada sensor físico instalado con espacios específicos de mi estacionamiento **para** que los conductores vean disponibilidad exacta en tiempo real | **Escenario 01**: Dado que tengo sensores IoT instalados, cuando accedo al módulo de configuración, entonces puedo asignar cada ID de sensor a un espacio numerado en el plano de mi estacionamiento.<br>**Escenario 02**: Dado que configuro un sensor, cuando un vehículo ocupa ese espacio, entonces el sistema actualiza el estado a "ocupado" en máximo 30 segundos y se refleja en la app de conductores. | **EP04** |
| **US08** | Mapa de disponibilidad en tiempo real | **Como** conductor que perdía 15 minutos buscando estacionamiento **quiero** ver un mapa que me muestre espacios libres confirmados por sensores **para** ir directo al espacio disponible sin dar vueltas | **Escenario 01**: Dado que abro la app cerca de mi destino, cuando consulto disponibilidad, entonces veo mapa con puntos verdes (libre confirmado por sensor) y rojos (ocupado) actualizado cada 20 segundos.<br>**Escenario 02**: Dado que selecciono un estacionamiento con 3 espacios libres, cuando otro conductor reserva 1 espacio, entonces mi mapa se actualiza automáticamente mostrando 2 espacios disponibles. | **EP04** |
| **US09** | Detección de ocupación no autorizada | **Como** propietario **quiero** recibir alertas cuando alguien ocupa un espacio sin haber pagado **para** evitar pérdida de ingresos por uso no autorizado | **Escenario 01**: Dado que un sensor detecta ocupación sin reserva activa por más de 5 minutos, cuando se confirma la ocupación no autorizada, entonces recibo notificación push con foto del espacio y placa del vehículo si es visible.<br>**Escenario 02**: Dado que confirmo ocupación no autorizada, cuando accedo a los detalles, entonces puedo generar ticket de infracción y enviarlo a autoridades si corresponde. | **EP04** |
| **US10** | Reserva instantánea con bloqueo de espacio | **Como** conductor **quiero** que cuando reserve un espacio este se bloquee inmediatamente para otros usuarios **para** tener garantía que estará disponible cuando llegue | **Escenario 01**: Dado que selecciono un espacio libre y confirmo reserva, cuando proceso el pago exitosamente, entonces el espacio se marca como "reservado" para otros usuarios en máximo 10 segundos.<br>**Escenario 02**: Dado que tengo reserva confirmada, cuando otro conductor intenta reservar el mismo espacio, entonces el sistema muestra "No disponible - Reservado" y sugiere espacios alternativos cercanos. | **EP05** |
| **US11** | Extensión de tiempo antes del vencimiento | **Como** conductor con reunión que se alarga **quiero** poder extender mi tiempo de estacionamiento desde la app **para** evitar multas sin tener que salir de mi reunión | **Escenario 01**: Dado que mi reserva vence en 10 minutos, cuando recibo notificación de vencimiento próximo, entonces puedo extender por 30, 60 o 120 minutos adicionales directamente desde la notificación.<br>**Escenario 02**: Dado que extiendo el tiempo, cuando confirmo la extensión, entonces se procesa el pago adicional automáticamente y actualiza el tiempo límite sin interrumpir mi actividad. | **EP05** |
| **US12** | Historial con análisis de ahorro de tiempo | **Como** conductor que usa ParkeoYa regularmente **quiero** ver cuánto tiempo he ahorrado vs buscar estacionamiento manualmente **para** validar el beneficio de usar la aplicación | **Escenario 01**: Dado que he completado 10 reservas, cuando accedo a mi historial, entonces veo tiempo total ahorrado calculado como "15 min promedio búsqueda manual - 2 min usando app = 13 min ahorrados por reserva".<br>**Escenario 02**: Dado que reviso estadísticas mensuales, cuando consulto el reporte, entonces veo gráfico de evolución del tiempo ahorrado y proyección de ahorro anual. | **EP05** |
| **US13** | Modelo de comisiones transparente y escalable | **Como** propietario **quiero** entender exactamente qué comisión se cobra por cada reserva y cómo disminuye con mayor volumen **para** proyectar mis ingresos netos y decidir si expandir el uso de la plataforma | **Escenario 01**: Dado que proceso mi primera reserva, cuando reviso el desglose de pago, entonces veo claramente: Ingreso bruto S/10, Comisión ParkeoYa S/1.50 (15%), Neto recibido S/8.50.<br>**Escenario 02**: Dado que alcanzo 100 reservas mensuales, cuando reviso mi estado de cuenta, entonces veo que mi comisión bajó a 12% y el ahorro mensual vs comisión inicial. | **EP06** |
| **US14** | Calificación post-uso para mejora continua | **Como** conductor que completó su estacionamiento **quiero** calificar la experiencia (facilidad de acceso, seguridad, limpieza) **para** ayudar a otros conductores y que los propietarios mejoren el servicio | **Escenario 01**: Dado que finalizo mi estacionamiento, cuando la app me solicita calificación, entonces puedo dar 1-5 estrellas en categorías: acceso, seguridad, limpieza y precisión de la información.<br>**Escenario 02**: Dado que califico negativamente un aspecto, cuando agrego comentario específico, entonces el propietario recibe feedback detallado para mejorar y mi calificación se promedia con otras reseñas. | **EP07** |
| **US15** | Visualización de reputación para toma de decisiones | **Como** conductor eligiendo entre estacionamientos **quiero** ver calificaciones reales de otros usuarios **para** seleccionar la opción más confiable y evitar experiencias negativas | **Escenario 01**: Dado que comparo 3 estacionamientos disponibles, cuando reviso sus perfiles, entonces veo promedio de calificaciones (ej: 4.2/5 estrellas) y comentarios recientes de usuarios verificados.<br>**Escenario 02**: Dado que leo comentarios negativos sobre seguridad, cuando considero esa opción, entonces la app me sugiere alternativas mejor calificadas aunque sean ligeramente más caras o distantes. | **EP07** |
| **US16** | Notificaciones contextuales sin spam | **Como** usuario **quiero** recibir solo notificaciones relevantes según mi ubicación y horario **para** estar informado de oportunidades sin ser interrumpido constantemente | **Escenario 01**: Dado que estoy a 2 cuadras de un estacionamiento con 30% descuento, cuando es mi horario habitual de trabajo, entonces recibo notificación: "Descuento disponible en tu ruta - 5 min de tu oficina".<br>**Escenario 02**: Dado que configuro "no molestar" de 22:00-07:00, cuando hay ofertas nocturnas disponibles, entonces no recibo notificaciones hasta mi horario permitido. | **EP08** |
| **US17** | Sistema de alertas escalonadas inteligente | **Como** conductor con reserva activa **quiero** recibir recordatorios oportunos antes del vencimiento **para** planificar mi salida sin stress de último minuto | **Escenario 01**: Dado que mi reserva de 2 horas está por vencer, cuando faltan 30, 15 y 5 minutos, entonces recibo alertas progresivas con opciones: "Extender tiempo", "Estoy saliendo" o "Buscar estacionamiento cercano".<br>**Escenario 02**: Dado que ignoro las alertas de 30 y 15 minutos, cuando faltan 5 minutos, entonces la alerta incluye consecuencias: "En 5 min se liberará tu espacio y podrías recibir multa por exceso de tiempo". | **EP08** |
| **US18** | Monitoreo preventivo de sensores | **Como** propietario **quiero** detectar problemas en mis sensores antes de que afecten la experiencia del conductor **para** mantener la precisión del sistema y evitar pérdida de reservas | **Escenario 01**: Dado que un sensor no reporta datos por 15 minutos, cuando el sistema detecta la anomalía, entonces recibo alerta: "Sensor espacio #5 desconectado - Revisar batería o conectividad".<br>**Escenario 02**: Dado que sensor reporta batería baja, cuando llega al 20%, entonces recibo notificación programada para mantenimiento: "Programar cambio de batería sensor #3 - Autonomía 7 días". | **EP09** |
| **US19** | Sincronización robusta entre edge y cloud | **Como** administrador técnico **quiero** que los datos se sincronicen automáticamente entre dispositivos locales y la nube **para** mantener información consistente aunque haya interrupciones de internet | **Escenario 01**: Dado que un edge server pierde conectividad por 30 minutos, cuando se restablece la conexión, entonces todos los eventos de ocupación se sincronizan automáticamente sin pérdida de datos.<br>**Escenario 02**: Dado que hay conflicto entre datos local y cloud, cuando el sistema detecta inconsistencias, entonces prioriza el evento más reciente y registra la discrepancia para revisión manual. | **EP09** |
| **US20** | Pagos automáticos precisos | **Como** conductor **quiero** que se me cobre exactamente el tiempo que usé el estacionamiento **para** pagar solo lo justo sin preocuparme por cálculos manuales | **Escenario 01**: Dado que ocupé el espacio por 1 hora y 23 minutos, cuando finalizo el estacionamiento, entonces se me cobra S/8.30 (tarifa S/6 hora completa + S/2.30 por 23 minutos adicionales) automáticamente.<br>**Escenario 02**: Dado que el sensor detecta que salí 5 minutos antes del tiempo reservado, cuando se procesa el pago, entonces recibo reembolso proporcional y crédito aplicable a futuras reservas. | **EP10** |
| **US21** | Compensación automática por fallas técnicas | **Como** conductor **quiero** recibir compensación inmediata cuando hay fallas del sistema **para** mantener confianza en la confiabilidad del servicio | **Escenario 01**: Dado que llegué a un espacio reservado pero el sensor marca "ocupado" incorrectamente, cuando reporto la incidencia con foto, entonces recibo reembolso completo automático en 2 horas.<br>**Escenario 02**: Dado que experimenté falla técnica, cuando se procesa la compensación, entonces recibo crédito adicional del 50% del valor pagado para mi próxima reserva como disculpa por la inconveniencia. | **EP10** |
| **US22** | API para desarrolladores externos | **Como** desarrollador de apps de movilidad **quiero** integrar la búsqueda de estacionamientos de ParkeoYa en mi aplicación **para** ofrecer solución completa de movilidad a mis usuarios | **Escenario 01**: Dado que obtengo API key autorizada, cuando hago consulta GET a /estacionamientos?lat=-12.0464&lng=-77.0428, entonces recibo JSON con espacios disponibles en radio de 1km con precios y disponibilidad en tiempo real.<br>**Escenario 02**: Dado que integro API de reservas, cuando mi usuario confirma reserva desde mi app, entonces el espacio se bloquea exitosamente y recibo webhook de confirmación con detalles de la reserva. | **EP11** |
| **US23** | Webhooks para sincronización en tiempo real | **Como** sistema de gestión empresarial **quiero** recibir notificaciones automáticas de eventos de estacionamiento **para** integrar con facturación y reportes corporativos | **Escenario 01**: Dado que configuro webhook para eventos de reserva, cuando empleado de mi empresa hace reserva corporativa, entonces mi sistema recibe payload inmediato con datos para generar comprobante contable.<br>**Escenario 02**: Dado que webhook falla por caída temporal de mi servidor, cuando ParkeoYa detecta el error 500, entonces reintenta envío 3 veces con intervalos de 1, 5 y 15 minutos antes de marcarlo como fallido. | **EP11** |
| **US24** | Detección multi-sensor ultra precisa | **Como** dispositivo IoT instalado **quiero** combinar señales de múltiples sensores (magnético, ultrasonido, cámara) **para** garantizar 99% de precisión en detección de ocupación real | **Escenario 01**: Dado que auto ingresa al espacio, cuando sensor magnético detecta metal, ultrasonido confirma objeto a 50cm y cámara detecta movimiento, entonces confirmo ocupación solo si 2 de 3 sensores coinciden.<br>**Escenario 02**: Dado que hay discrepancia entre sensores (magnético sí, ultrasonido no), cuando persiste por más de 60 segundos, entonces reporto estado "verificación requerida" y solicito inspección manual. | **EP12** |
| **US25** | Operación autónoma sin conectividad | **Como** dispositivo IoT **quiero** seguir funcionando aunque se corte internet **para** no perder detección de ocupación durante interrupciones de red | **Escenario 01**: Dado que pierdo conectividad WiFi, cuando continúo detectando cambios de ocupación, entonces almaceno todos los eventos con timestamp preciso en memoria local durante máximo 48 horas.<br>**Escenario 02**: Dado que recupero conectividad después de 6 horas offline, cuando me reconecto al edge server, entonces transmito todos los eventos almacenados en orden cronológico sin pérdida de información. | **EP12** |
| **US26** | Comunicación MQTT confiable | **Como** edge server **quiero** usar protocolo MQTT con garantía de entrega **para** asegurar que comandos críticos lleguen a los dispositivos IoT | **Escenario 01**: Dado que envío comando "bloquear espacio" a dispositivo, cuando uso MQTT QoS nivel 2, entonces no marco comando como exitoso hasta recibir confirmación de ejecución del dispositivo.<br>**Escenario 02**: Dado que mensaje MQTT no recibe ACK en 30 segundos, cuando detecta timeout, entonces reintento envío hasta 3 veces con backoff exponencial (30s, 60s, 120s) antes de reportar falla. | **EP13** |
| **US27** | Balanceador automático de carga IoT | **Como** sistema de comunicación **quiero** distribuir dispositivos entre múltiples edge servers **para** evitar sobrecarga cuando gestiono miles de sensores simultáneamente | **Escenario 01**: Dado que edge server principal alcanza 1000 dispositivos conectados, cuando nuevo sensor requiere conexión, entonces lo asigno automáticamente al servidor secundario con menor carga.<br>**Escenario 02**: Dado que edge server A falla completamente, cuando sistema detecta desconexión, entonces migro automáticamente sus 800 dispositivos al servidor B sin perder comunicación por más de 60 segundos. | **EP13** |
| **US28** | Analytics predictivos para optimización | **Como** propietario **quiero** recibir predicciones de demanda basadas en mis datos históricos **para** ajustar precios dinámicamente y maximizar ingresos | **Escenario 01**: Dado que tengo 6 meses de historial, cuando accedo a analytics, entonces veo predicción: "Jueves 14:00-18:00 demanda alta 85% - Sugerir aumentar precio 20% puede incrementar ingresos 15%".<br>**Escenario 02**: Dado que sigo recomendación de pricing dinámico, cuando comparo ingresos del mes vs mes anterior, entonces veo reporte de efectividad: "Pricing inteligente aumentó ingresos 12% vs tarifa fija". | **EP14** |
| **US29** | Medición de impacto ambiental | **Como** administrador de ParkeoYa **quiero** calcular la reducción de emisiones CO₂ lograda por la plataforma **para** comunicar el impacto positivo ambiental a usuarios y autoridades | **Escenario 01**: Dado que conductores ahorran promedio 12 minutos de búsqueda por reserva, cuando calculo el impacto mensual, entonces genero reporte: "50,000 reservas × 12 min × 0.2L combustible = 2,000L menos combustible = 4.6 toneladas CO₂ evitadas".<br>**Escenario 02**: Dado que tengo métricas ambientales consolidadas, cuando genero reporte público trimestral, entonces incluyo comparativas con período anterior y proyección de impacto anual en reducción de congestión vehicular. | **EP15** |
| **US30** | Programa de movilidad sostenible | **Como** conductor comprometido con el ambiente **quiero** participar en challenges de movilidad sostenible **para** contribuir a reducir congestión y recibir beneficios por mi comportamiento responsable | **Escenario 01**: Dado que uso estacionamientos en horarios valle (10:00-14:00), cuando acumulo 10 reservas en horario sostenible, entonces obtengo 20% descuento aplicable por 30 días.<br>**Escenario 02**: Dado que participo en "Mes de la Movilidad Sostenible", cuando logro 80% de mis reservas fuera de hora pico, entonces aparezco en ranking comunitario y obtengo insignia "EcoDriver" visible en mi perfil. | **EP15** |


### 3.3. Impact Mapping

### 3.4. Product Backlog

